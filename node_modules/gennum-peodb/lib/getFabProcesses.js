//============================================================================//

var print = console.log;

//============================================================================//

module.exports = function(PEODB) {

  PEODB.prototype.getFabProcesses = function(cb) {
    var peodb = this;

    var qStr =
      'SELECT'
    + '    fp.fab_process_id'
    + '  , fp.object_id'
    + '  , fp.name'
    + '  , fp.brief'
    + '  , fp.material'
    + '  , fp.baseline_d0'
    + '  , fp.company_id'
    + '  , cm.name  AS company_name'
    + '  , cm.state AS company_state'
    + '  FROM'
    + '    fab_processes  fp'
    + '    JOIN companies cm ON (cm.company_id = fp.company_id)'
    ;

    peodb.sharedDB.queryData(qStr, function(err, data) {
      return cb(err, data);
    });
  }
}

//============================================================================//
