//============================================================================//

var print = console.log;

//============================================================================//

module.exports = function(PEODB) {
  PEODB.prototype.getVersion = function(cb) {
    var peodb = this;
    var qStr = 'SELECT `value` FROM config WHERE `key` = "version"';
    peodb.sharedDB.queryData(qStr, function(err, data) {
      if (err) {
        return cb(err);
      }
      if (data.rows.length !== 1) {
        return cb(err, 'invalid number of PEODB version entries');
      }
      return cb(null, data.rows[0].value);
    });
  }
}

//============================================================================//
