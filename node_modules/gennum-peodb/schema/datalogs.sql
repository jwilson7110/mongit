################################################################################
#
#  Datalogs - references into the Datalog Database (DLDB)
#

CREATE TABLE `datalog_types` ( -- LIST-TABLE
  `datalog_type_id`     INT UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY
, `name`                VARCHAR(255) NOT NULL
, `abbr`                VARCHAR(8)   NOT NULL
, UNIQUE KEY (`name`)
, UNIQUE KEY (`abbr`)
);

CREATE TABLE `datalogs` (
  `datalog_id`          INT UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY
, `datalog_type_id`     INT UNSIGNED NOT NULL
, `tp_rev_id`           INT UNSIGNED NOT NULL
, `user_id`             INT UNSIGNED NOT NULL
, `assign_time`         DOUBLE       NOT NULL -- TIME_T
, `file_name`           VARCHAR(255) NOT NULL -- Datalog Database file name (unique)
, `file_path`           VARCHAR(255) NOT NULL -- Datalog Database file path
, `file_size`           INT UNSIGNED NOT NULL -- Datalog Database file size -- FIXME -- remove this?
, `active`              BOOLEAN      NOT NULL DEFAULT TRUE
, FOREIGN KEY (`datalog_type_id`) REFERENCES `datalog_types` (`datalog_type_id`)
, FOREIGN KEY (`tp_rev_id`)       REFERENCES `tp_revs`       (`tp_rev_id`)
);

################################################################################
