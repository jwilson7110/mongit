################################################################################

CREATE TABLE `object_types` ( -- LIST-TABLE
  `object_type_id`      INT UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY
, `name`                VARCHAR(16)  NOT NULL
, `description`         VARCHAR(255) NOT NULL
, `table_name`          VARCHAR(16)  NOT NULL
, `id_name`             VARCHAR(16)  NOT NULL
, UNIQUE KEY (`name`)
, UNIQUE KEY (`description`)
);

CREATE TABLE `objects` (
  `object_id`           INT UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY
, `object_type_id`      INT UNSIGNED NOT NULL
, `create_user_id`      INT SIGNED   NOT NULL
, `create_time`         DOUBLE       NOT NULL -- TIME_T
, `state`               ENUM('ACTIVE','OBSOLETE','PENDING') NOT NULL
, FOREIGN KEY (`object_type_id`) REFERENCES `object_types` (`object_type_id`)
);
# NOTE: the FOREIGN KEY constraint for `create_user_id` is setup in users.sql

CREATE TABLE `sub_objects` ( -- TIE-TABLE - FIXME - not used
  `object_id`           INT UNSIGNED NOT NULL
, `sub_object_id`       INT UNSIGNED NOT NULL
, PRIMARY KEY (`object_id`, `sub_object_id`)
, FOREIGN KEY (`object_id`)     REFERENCES `objects` (`object_id`)
, FOREIGN KEY (`sub_object_id`) REFERENCES `objects` (`object_id`)
);

################################################################################
